<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Prepositions – Ball & Box</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#eef2ff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.app{
  width:900px;
  display:grid;
  grid-template-columns:1.3fr .7fr;
  gap:16px;
}
.card{
  background:white;
  border-radius:18px;
  padding:16px;
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
h1{margin:0}
.sub{font-size:14px;color:#555}

/* ===== SCENE ===== */
.scene{
  height:280px;
  background:#ffffff;
  border-radius:16px;
  position:relative;
  margin:12px 0;
}

/* BOX – MISMA SIMBOLOGÍA QUE EL VÍDEO */
.box{
  width:160px;
  height:120px;
  border:4px solid black;
  background:white;
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
}

/* BALL */
.ball{
  width:50px;
  height:50px;
  border-radius:50%;
  background:#ef4444;
  position:absolute;
  transition:all .3s ease;
}

/* POSITIONS (CLARAS Y PLANAS) */
.in{
  left:50%; top:50%;
  transform:translate(-50%,-50%) scale(.85);
}
.on{
  left:50%; top:20%;
  transform:translate(-50%,-50%);
}
.under{
  left:50%; top:85%;
  transform:translate(-50%,-50%);
}
.next{
  left:85%; top:50%;
  transform:translate(-50%,-50%);
}
.front{
  left:50%; top:55%;
  transform:translate(-50%,-50%) scale(1.2);
}
.behind{
  left:50%; top:45%;
  transform:translate(-50%,-50%) scale(.7);
  opacity:.4;
}

/* OPTIONS */
.options{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.option{
  padding:12px;
  border-radius:14px;
  border:2px solid #c7d2fe;
  cursor:pointer;
  font-weight:bold;
  text-align:center;
}
.option:hover{background:#eef2ff}
.ok{background:#d1fae5;border-color:#16a34a}
.bad{background:#fee2e2;border-color:#dc2626}

.feedback{
  font-weight:bold;
  margin-top:8px;
  min-height:20px;
}

/* ===== PUPPY (ORIGINAL) ===== */
.puppyStage{
  height:300px;
  display:flex;
  justify-content:center;
  align-items:center;
}
.puppy{
  width:220px;
  height:220px;
  position:relative;
}
.body{
  width:180px;height:110px;
  background:#2f2f35;
  border-radius:90px;
  position:absolute;
  bottom:40px;left:20px;
}
.belly{
  width:55px;height:55px;
  background:#ffb703;
  border-radius:16px;
  position:absolute;
  right:35px;top:35px;
}
.head{
  width:110px;height:95px;
  background:#2f2f35;
  border-radius:60px;
  position:absolute;
  left:30px;top:35px;
}
.eye{
  width:10px;height:10px;
  background:black;border-radius:50%;
  position:absolute;left:65px;top:45px;
}
.mouth{
  width:26px;height:12px;
  border-bottom:4px solid black;
  border-radius:50%;
  position:absolute;left:62px;top:65px;
}
.tail{
  width:65px;height:16px;
  background:#2f2f35;
  border-radius:20px;
  position:absolute;
  right:0;bottom:80px;
  transform-origin:left center;
}
.ear{
  width:38px;height:65px;
  background:#1f1f25;
  border-radius:20px;
  position:absolute;
  top:30px;
}
.left{left:15px}
.right{right:55px}

/* STATES */
.happy .tail{animation:wag .15s infinite alternate}
@keyframes wag{from{transform:rotate(20deg)}to{transform:rotate(-20deg)}}

.sad .ear.left{transform:translate(35px,10px) rotate(70deg)}
.sad .ear.right{transform:translate(-35px,10px) rotate(-70deg)}
.sad .mouth{border-bottom:none;border-top:4px solid black}
</style>
</head>

<body>
<div class="app">

<!-- QUIZ -->
<div class="card">
<h1>Where is the ball?</h1>
<p class="sub">Look and choose the correct preposition</p>

<div class="scene">
  <div class="box"></div>
  <div class="ball in" id="ball"></div>
</div>

<div class="options" id="options"></div>
<div class="feedback" id="feedback"></div>
</div>

<!-- PUPPY -->
<div class="card">
<h1>Perrito</h1>
<div class="puppyStage">
  <div class="puppy" id="puppy">
    <div class="tail"></div>
    <div class="body"><div class="belly"></div></div>
    <div class="head"><div class="eye"></div><div class="mouth"></div></div>
    <div class="ear left"></div>
    <div class="ear right"></div>
  </div>
</div>
</div>

</div>

<script>
const items=[
 {t:"in",c:"in"},
 {t:"on",c:"on"},
 {t:"under",c:"under"},
 {t:"in front of",c:"front"},
 {t:"behind",c:"behind"},
 {t:"next to",c:"next"},
];

const ball=document.getElementById("ball");
const options=document.getElementById("options");
const puppy=document.getElementById("puppy");
const feedback=document.getElementById("feedback");

function beep(ok=true){
 const ctx=new AudioContext();
 const o=ctx.createOscillator();
 o.frequency.value=ok?700:200;
 o.connect(ctx.destination);
 o.start();
 o.stop(ctx.currentTime+.15);
}

function newQuestion(){
 puppy.className="puppy";
 feedback.textContent="";

 const correct=items[Math.floor(Math.random()*items.length)];
 ball.className="ball "+correct.c;

 const opts=[correct];
 while(opts.length<4){
  const r=items[Math.floor(Math.random()*items.length)];
  if(!opts.includes(r))opts.push(r);
 }
 opts.sort(()=>Math.random()-.5);

 options.innerHTML="";
 opts.forEach(o=>{
  const b=document.createElement("div");
  b.className="option";
  b.textContent=o.t;
  b.onclick=()=>{
    if(o===correct){
      b.classList.add("ok");
      puppy.classList.add("happy");
      beep(true);
    }else{
      b.classList.add("bad");
      puppy.classList.add("sad");
      beep(false);
    }
    setTimeout(newQuestion,1200);
  };
  options.appendChild(b);
 });
}
newQuestion();
</script>
</body>
</html>
