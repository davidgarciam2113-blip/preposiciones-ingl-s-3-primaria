<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Prepositions Puppy Quiz</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#f5f6ff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.app{
  width:960px;
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:16px;
}
.card{
  background:#fff;
  border-radius:18px;
  padding:16px;
  box-shadow:0 10px 25px rgba(0,0,0,.1);
}
h1{margin:0 0 6px}
.sub{color:#555;font-size:14px}

/* ================= SCENE ================= */
.scene{
  height:300px;
  margin:10px 0;
  background:#eef1ff;
  border-radius:16px;
  position:relative;
  perspective:900px;
  overflow:hidden;
}
.stage{
  position:absolute;
  inset:0;
  transform-style:preserve-3d;
}
.floor{
  position:absolute;
  bottom:-30px;
  left:-30%;
  right:-30%;
  height:140px;
  background:linear-gradient(transparent,rgba(0,0,0,.15));
  transform:rotateX(70deg);
}
.box{
  position:absolute;
  left:50%;
  top:55%;
  width:160px;
  height:120px;
  background:linear-gradient(#c49a6c,#a8774b);
  border-radius:14px;
  transform:translate(-50%,-50%) rotateX(10deg) rotateY(-25deg);
  box-shadow:0 20px 30px rgba(0,0,0,.2);
}
.ball{
  position:absolute;
  width:56px;
  height:56px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#fff,#f59e0b);
  box-shadow:0 14px 24px rgba(0,0,0,.25);
  transition:all .4s ease;
}

/* POSITIONS */
.in{left:50%;top:55%;transform:translate(-50%,-50%) scale(.8)}
.on{left:50%;top:32%;transform:translate(-50%,-50%)}
.under{left:50%;top:72%;transform:translate(-50%,-50%)}
.front{left:50%;top:55%;transform:translate(-50%,-50%) scale(1.2)}
.behind{left:50%;top:48%;transform:translate(-50%,-50%) scale(.7);opacity:.6}
.next{left:72%;top:55%;transform:translate(-50%,-50%)}
.between{left:50%;top:55%;transform:translate(-50%,-50%)}

/* ================= OPTIONS ================= */
.options{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.option{
  padding:12px;
  border-radius:14px;
  border:1px solid #ccc;
  cursor:pointer;
  font-weight:bold;
  background:#fff;
}
.option:hover{background:#f0f0ff}
.correct{background:#d1fae5;border-color:#16a34a}
.wrong{background:#fee2e2;border-color:#dc2626}

.feedback{font-weight:bold;margin-top:8px}

/* ================= PUPPY ================= */
.puppyStage{
  height:320px;
  display:flex;
  justify-content:center;
  align-items:center;
}
.puppy{
  width:240px;
  height:240px;
  position:relative;
}
.body{
  position:absolute;
  width:200px;
  height:120px;
  background:#2f2f35;
  border-radius:90px;
  bottom:40px;
  left:20px;
}
.belly{
  position:absolute;
  width:60px;
  height:60px;
  background:#ffb703;
  border-radius:18px;
  right:40px;
  top:40px;
}
.head{
  position:absolute;
  width:120px;
  height:100px;
  background:#2f2f35;
  border-radius:60px;
  left:30px;
  top:40px;
}
.eye{
  position:absolute;
  width:10px;
  height:10px;
  background:#000;
  border-radius:50%;
  left:70px;
  top:55px;
}
.mouth{
  position:absolute;
  width:26px;
  height:12px;
  border-bottom:4px solid #000;
  border-radius:50%;
  left:68px;
  top:75px;
}
.tail{
  position:absolute;
  width:70px;
  height:16px;
  background:#2f2f35;
  border-radius:20px;
  right:0;
  bottom:80px;
  transform-origin:left center;
}
.ear{
  position:absolute;
  width:40px;
  height:70px;
  background:#1f1f25;
  border-radius:20px;
  top:40px;
}
.ear.left{left:20px}
.ear.right{right:60px}

/* STATES */
.happy .tail{animation:wag .15s infinite alternate}
@keyframes wag{from{transform:rotate(20deg)}to{transform:rotate(-20deg)}}

.sad .ear.left{transform:translate(40px,10px) rotate(70deg)}
.sad .ear.right{transform:translate(-40px,10px) rotate(-70deg)}
.sad .mouth{border-bottom:none;border-top:4px solid #000}
</style>
</head>

<body>
<div class="app">

<!-- QUIZ -->
<div class="card">
<h1>Where is the ball?</h1>
<p class="sub">Choose the correct preposition</p>

<div class="scene">
  <div class="stage">
    <div class="floor"></div>
    <div class="box"></div>
    <div class="ball on" id="ball"></div>
  </div>
</div>

<div class="options" id="options"></div>
<div class="feedback" id="feedback"></div>
</div>

<!-- PUPPY -->
<div class="card">
<h1>Perrito</h1>
<div class="puppyStage">
  <div class="puppy" id="puppy">
    <div class="tail"></div>
    <div class="body"><div class="belly"></div></div>
    <div class="head">
      <div class="eye"></div>
      <div class="mouth"></div>
    </div>
    <div class="ear left"></div>
    <div class="ear right"></div>
  </div>
</div>
</div>

</div>

<script>
const preps=[
 {t:"in",c:"in"},
 {t:"on",c:"on"},
 {t:"under",c:"under"},
 {t:"in front of",c:"front"},
 {t:"behind",c:"behind"},
 {t:"next to",c:"next"},
];

const ball=document.getElementById("ball");
const options=document.getElementById("options");
const puppy=document.getElementById("puppy");
const feedback=document.getElementById("feedback");

function sound(ok=true){
 const ctx=new AudioContext();
 const o=ctx.createOscillator();
 o.frequency.value=ok?700:200;
 o.connect(ctx.destination);
 o.start();
 o.stop(ctx.currentTime+.15);
}

function newQuestion(){
 puppy.className="puppy";
 feedback.textContent="";
 const correct=preps[Math.floor(Math.random()*preps.length)];
 ball.className="ball "+correct.c;

 const opts=[correct];
 while(opts.length<4){
  const p=preps[Math.floor(Math.random()*preps.length)];
  if(!opts.includes(p))opts.push(p);
 }
 opts.sort(()=>Math.random()-.5);

 options.innerHTML="";
 opts.forEach(o=>{
  const b=document.createElement("div");
  b.className="option";
  b.textContent=o.t;
  b.onclick=()=>{
   if(o===correct){
    b.classList.add("correct");
    puppy.classList.add("happy");
    sound(true);
   }else{
    b.classList.add("wrong");
    puppy.classList.add("sad");
    sound(false);
   }
   setTimeout(newQuestion,1200);
  };
  options.appendChild(b);
 });
}
newQuestion();
</script>
</body>
</html>
